<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="602px" preserveAspectRatio="none" style="width:550px;height:602px;background:#282828;" version="1.1" viewBox="0 0 550 602" width="550px" zoomAndPan="magnify"><defs/><g><ellipse cx="275" cy="15" fill="#282828" rx="10" ry="10" style="stroke:#FFB000;stroke-width:1.0;"/><rect fill="#282828" height="521.7188" style="stroke:#FFB000;stroke-width:1.0;" width="538" x="6" y="35"/><path d="M146,35 L146,44.2969 L136,54.2969 L6,54.2969 " fill="none" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="130" x="9" y="48.9951">File Sender Worker</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="139" x="205.5" y="115.2969"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="119" x="215.5" y="136.4355">get file from queue</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="207" x="171.5" y="169.2656"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="187" x="181.5" y="190.4043">detect API that will receive file</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="113" x="218.5" y="223.2344"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="93" x="228.5" y="244.373">send file to API</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="72" x="239" y="277.2031"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="52" x="249" y="298.3418">wait ACK</text><polygon fill="#282828" points="245,331.1719,305,331.1719,317,343.1719,305,355.1719,245,355.1719,233,343.1719,245,331.1719" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="60" x="245" y="346.98">response?</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="164" x="34" y="390.7813"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="144" x="44" y="411.9199">move file to sent folder</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="111" x="218" y="390.7813"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="91" x="228" y="411.9199">reenqueue file</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="167" x="349" y="390.7813"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="147" x="359" y="411.9199">move file to error folder</text><polygon fill="#282828" points="275,444.75,275,444.75,287,456.75,275,468.75,275,468.75,263,456.75,275,444.75" style="stroke:#FFB000;stroke-width:1.0;"/><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="126" x="212" y="488.75"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="106" x="222" y="509.8887">update statistics</text><polygon fill="#282828" points="250.5,71.2969,299.5,71.2969,311.5,83.2969,299.5,95.2969,250.5,95.2969,238.5,83.2969,250.5,71.2969" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="49" x="250.5" y="87.105">can run?</text><ellipse cx="275" cy="586.7188" fill="#282828" rx="10" ry="10" style="stroke:#FFB000;stroke-width:1.5;"/><line style="stroke:#FFB000;stroke-width:2.5;" x1="268.8128" x2="281.1872" y1="580.5316" y2="592.9059"/><line style="stroke:#FFB000;stroke-width:2.5;" x1="281.1872" x2="268.8128" y1="580.5316" y2="592.9059"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="149.2656" y2="169.2656"/><polygon fill="#FFB000" points="271,159.2656,275,169.2656,279,159.2656,275,163.2656" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="203.2344" y2="223.2344"/><polygon fill="#FFB000" points="271,213.2344,275,223.2344,279,213.2344,275,217.2344" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="257.2031" y2="277.2031"/><polygon fill="#FFB000" points="271,267.2031,275,277.2031,279,267.2031,275,271.2031" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="233" x2="116" y1="343.1719" y2="343.1719"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="116" x2="116" y1="343.1719" y2="390.7813"/><polygon fill="#FFB000" points="112,380.7813,116,390.7813,120,380.7813,116,384.7813" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="22" x="116" y="370.7847">ACK</text><line style="stroke:#FFB000;stroke-width:1.0;" x1="317" x2="432.5" y1="343.1719" y2="343.1719"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="432.5" x2="432.5" y1="343.1719" y2="390.7813"/><polygon fill="#FFB000" points="428.5,380.7813,432.5,390.7813,436.5,380.7813,432.5,384.7813" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="30" x="432.5" y="370.7847">NACK</text><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="355.1719" y2="367.0417"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="273.5" y1="367.0417" y2="367.0417"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="273.5" x2="273.5" y1="367.0417" y2="390.7813"/><polygon fill="#FFB000" points="269.5,380.7813,273.5,390.7813,277.5,380.7813,273.5,384.7813" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="29" x="273.5" y="371.7847">error</text><line style="stroke:#FFB000;stroke-width:1.0;" x1="116" x2="116" y1="424.75" y2="456.75"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="116" x2="263" y1="456.75" y2="456.75"/><polygon fill="#FFB000" points="253,452.75,263,456.75,253,460.75,257,456.75" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="432.5" x2="432.5" y1="424.75" y2="456.75"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="432.5" x2="287" y1="456.75" y2="456.75"/><polygon fill="#FFB000" points="297,452.75,287,456.75,297,460.75,293,456.75" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="273.5" x2="273.5" y1="424.75" y2="429.75"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="273.5" x2="275" y1="429.75" y2="429.75"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="429.75" y2="444.75"/><polygon fill="#FFB000" points="271,434.75,275,444.75,279,434.75,275,438.75" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="311.1719" y2="331.1719"/><polygon fill="#FFB000" points="271,321.1719,275,331.1719,279,321.1719,275,325.1719" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="468.75" y2="488.75"/><polygon fill="#FFB000" points="271,478.75,275,488.75,279,478.75,275,482.75" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="95.2969" y2="115.2969"/><polygon fill="#FFB000" points="271,105.2969,275,115.2969,279,105.2969,275,109.2969" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="522.7188" y2="532.7188"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="528" y1="532.7188" y2="532.7188"/><polygon fill="#FFB000" points="524,339.5078,528,329.5078,532,339.5078,528,335.5078" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="528" x2="528" y1="83.2969" y2="532.7188"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="528" x2="311.5" y1="83.2969" y2="83.2969"/><polygon fill="#FFB000" points="321.5,79.2969,311.5,83.2969,321.5,87.2969,317.5,83.2969" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="238.5" x2="22" y1="83.2969" y2="83.2969"/><polygon fill="#FFB000" points="18,325.5078,22,335.5078,26,325.5078,22,329.5078" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="22" x2="22" y1="83.2969" y2="544.7188"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="22" x2="275" y1="544.7188" y2="544.7188"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="544.7188" y2="576.7188"/><polygon fill="#FFB000" points="271,566.7188,275,576.7188,279,566.7188,275,570.7188" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="275" x2="275" y1="25" y2="71.2969"/><polygon fill="#FFB000" points="271,61.2969,275,71.2969,279,61.2969,275,65.2969" style="stroke:#FFB000;stroke-width:1.0;"/><!--MD5=[8a3886cfab65d460f3720bdf48e3283d]
@startuml arquitetura-provider-flow-sender

!theme crt-amber

start

    group File Sender Worker
    while (can run?)     
        :get file from queue;
        :detect API that will receive file;
        :send file to API;
        :wait ACK;
        switch (response?)
            case (ACK)
                :move file to sent folder;
            case (error)
                :reenqueue file;
            case (NACK)
                :move file to error folder;
        endswitch
        :update statistics;
       
    endwhile
    end group


end
@enduml

@startuml arquitetura-provider-flow-sender







<style>
  root {
    BackgroundColor #282828
    FontColor #FFB000
    FontName Verdana
    HyperLinkColor #FFCC00
    LineColor #FFB000
    LineThickness 1
    Margin 5
  }
  box {
    LineStyle 12-18
    LineThickness 3
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  groupHeader {
    BackgroundColor #FFB000
    FontColor #282828
    FontStyle bold
  }
  header {
    LineThickness 0
  }
  node {
    MaximumWidth 300
  }
  referenceHeader {
    BackgroundColor #FFB000
    FontColor #282828
    FontStyle bold
  }
  separator {
    BackgroundColor #FFB000
    FontColor #282828
    FontStyle bold
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>

skinparam ArrowLollipopColor #FFB000
skinparam BackgroundColor #282828
skinparam DefaultFontName Verdana
skinparam DefaultMonospacedFontName Courier
skinparam LifelineStrategy solid
skinparam ParticipantPadding 10
skinparam SequenceLifeLineBorderColor #FFB000
skinparam Shadowing false
skinparam UseBetaStyle true

skinparam Activity {
  BackgroundColor #282828
  BarColor #FFB000
  BorderColor #FFB000
  FontColor #FFB000
  FontName Verdana
}
skinparam Boundary {
  FontColor #FFB000
}
skinparam Box {
  Padding 5
}
skinparam CircledCharacter {
  FontColor #282828
  FontName Courier
  Radius 9
}
skinparam Class {
  BackgroundColor #282828
  BorderColor #FFB000
  FontColor #FFB000
  FontName Verdana
}
skinparam ClassAttribute {
  FontColor #FFB000
  FontName Verdana
}
skinparam ClassStereotype {
  FontColor #FFB000
  FontName Verdana
}
skinparam Footer {
  FontColor #FFB000
  FontName Verdana
}
skinparam Header {
  FontColor #FFB000
  FontName Verdana
}
skinparam Hyperlink {
  Color #FFCC00
}
skinparam IconPackage {
  Color #FFB000
  BackgroundColor #282828
}
skinparam IconPrivate {
  Color #FFB000
  BackgroundColor #282828
}
skinparam IconProtected {
  Color #FFB000
  BackgroundColor #282828
}
skinparam IconPublic {
  Color #FFB000
  BackgroundColor #282828
}
skinparam Note {
  FontColor #FFB000
  FontName Verdana
}
skinparam Object {
  BorderColor #FFB000
}
skinparam Package {
  BorderColor #FFB000
  FontColor #FFB000
  FontName Verdana
}
skinparam State {
  BackgroundColor #282828
  BorderColor #FFB000
}
skinparam StereotypeA {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeC {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeE {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeI {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeN {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam UseCaseStereoType {
  FontColor #FFB000
  FontName Verdana
}

start

    group File Sender Worker
    while (can run?)     
        :get file from queue;
        :detect API that will receive file;
        :send file to API;
        :wait ACK;
        switch (response?)
            case (ACK)
                :move file to sent folder;
            case (error)
                :reenqueue file;
            case (NACK)
                :move file to error folder;
        endswitch
        :update statistics;
       
    endwhile
    end group


end
@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>