<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="856px" preserveAspectRatio="none" style="width:1107px;height:856px;background:#FFFFFF;" version="1.1" viewBox="0 0 1107 856" width="1107px" zoomAndPan="magnify"><defs/><g><rect height="26.2969" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="188" x="458" y="15"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178" x="463" y="32.9951">Provider Flow Diagram</text><ellipse cx="545" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#555555" height="6" rx="2.5" ry="2.5" style="stroke:#555555;stroke-width:1.0;" width="1085" x="11" y="87.2969"/><rect fill="none" height="588.9141" style="stroke:#000000;stroke-width:1.5;" width="252" x="23" y="151.6992"/><path d="M121,151.6992 L121,160.9961 L111,170.9961 L23,170.9961 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="26" y="165.6943">File Collector</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="75" y="235.9961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="85" y="257.1348">load configuration</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="70.5" y="304.9648"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123" x="80.5" y="326.1035">enumerate sources</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="97" y="373.9336"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="107" y="395.0723">collect files</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="53" y="491.3047"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158" x="63" y="512.4434">schedule files by sources</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="89.5" y="560.2734"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85" x="99.5" y="581.4121">enqueue files</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="79" y="614.2422"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="89" y="635.3809">update statistics</text><polygon fill="#F1F1F1" points="81.5,442.9023,202.5,442.9023,214.5,454.9023,202.5,466.9023,81.5,466.9023,69.5,454.9023,81.5,442.9023" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="146" y="477.1128">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="81.5" y="458.7104">there's files to send?</text><polygon fill="#F1F1F1" points="142,672.6133,154,684.6133,142,696.6133,130,684.6133,142,672.6133" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="117.5,187.9961,166.5,187.9961,178.5,199.9961,166.5,211.9961,117.5,211.9961,105.5,199.9961,117.5,187.9961" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="117.5" y="203.8042">can run?</text><rect fill="none" height="675.7188" style="stroke:#000000;stroke-width:1.5;" width="538" x="285" y="103.2969"/><path d="M372,103.2969 L372,112.5938 L362,122.5938 L285,122.5938 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="288" y="117.292">File Sender</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="484.5" y="187.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="494.5" y="208.7324">get file from queue</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="207" x="450.5" y="256.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="187" x="460.5" y="277.7012">detect API that will receive file</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="497.5" y="325.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93" x="507.5" y="346.6699">send file to API</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="518" y="394.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="528" y="415.6387">wait ACK</text><polygon fill="#F1F1F1" points="524,463.4688,584,463.4688,596,475.4688,584,487.4688,524,487.4688,512,475.4688,524,463.4688" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="524" y="479.2769">response?</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="313" y="523.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="323" y="544.2168">move file to sent folder</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="497" y="523.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="507" y="544.2168">reenqueue file</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="628" y="523.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="638" y="544.2168">move file to error folder</text><polygon fill="#F1F1F1" points="554,652.0469,554,652.0469,566,664.0469,554,676.0469,554,676.0469,542,664.0469,554,652.0469" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="491" y="711.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="501" y="732.1855">update statistics</text><polygon fill="#F1F1F1" points="529.5,139.5938,578.5,139.5938,590.5,151.5938,578.5,163.5938,529.5,163.5938,517.5,151.5938,529.5,139.5938" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="529.5" y="155.4019">can run?</text><rect fill="none" height="259.0703" style="stroke:#000000;stroke-width:1.5;" width="251" x="833" y="324.1211"/><path d="M953,324.1211 L953,333.418 L943,343.418 L833,343.418 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="836" y="338.1162">Metric Publisher</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="895" y="456.8203"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="905" y="477.959">publish metrics</text><polygon fill="#F1F1F1" points="873,408.418,1032,408.418,1044,420.418,1032,432.418,873,432.418,861,420.418,873,408.418" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="956.5" y="442.6284">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="873" y="424.2261">it's time to publish metrics?</text><polygon fill="#F1F1F1" points="952.5,515.1914,964.5,527.1914,952.5,539.1914,940.5,527.1914,952.5,515.1914" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="928,360.418,977,360.418,989,372.418,977,384.418,928,384.418,916,372.418,928,360.418" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="928" y="376.2261">can run?</text><rect fill="#555555" height="6" rx="2.5" ry="2.5" style="stroke:#555555;stroke-width:1.0;" width="1085" x="11" y="799.0156"/><ellipse cx="545" cy="835.0156" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;fill:none;"/><line style="stroke:#222222;stroke-width:2.5;fill:none;" x1="538.8128" x2="551.1872" y1="828.8284" y2="841.2028"/><line style="stroke:#222222;stroke-width:2.5;fill:none;" x1="551.1872" x2="538.8128" y1="828.8284" y2="841.2028"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="142" x2="142" y1="269.9648" y2="304.9648"/><polygon fill="#181818" points="138,294.9648,142,304.9648,146,294.9648,142,298.9648" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="338.9336" y2="373.9336"/><polygon fill="#181818" points="138,363.9336,142,373.9336,146,363.9336,142,367.9336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="525.2734" y2="560.2734"/><polygon fill="#181818" points="138,550.2734,142,560.2734,146,550.2734,142,554.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="594.2422" y2="614.2422"/><polygon fill="#181818" points="138,604.2422,142,614.2422,146,604.2422,142,608.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="466.9023" y2="491.3047"/><polygon fill="#181818" points="138,481.3047,142,491.3047,146,481.3047,142,485.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="214.5" x2="241" y1="454.9023" y2="454.9023"/><polygon fill="#181818" points="237,567.2578,241,577.2578,245,567.2578,241,571.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="241" x2="241" y1="454.9023" y2="684.6133"/><line style="stroke:#181818;stroke-width:1.0;" x1="241" x2="154" y1="684.6133" y2="684.6133"/><polygon fill="#181818" points="164,680.6133,154,684.6133,164,688.6133,160,684.6133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="648.2109" y2="672.6133"/><polygon fill="#181818" points="138,662.6133,142,672.6133,146,662.6133,142,666.6133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="407.9023" y2="442.9023"/><polygon fill="#181818" points="138,432.9023,142,442.9023,146,432.9023,142,436.9023" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="211.9961" y2="235.9961"/><polygon fill="#181818" points="138,225.9961,142,235.9961,146,225.9961,142,229.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="696.6133" y2="708.6133"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="259" y1="708.6133" y2="708.6133"/><polygon fill="#181818" points="255,471.8047,259,461.8047,263,471.8047,259,467.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="259" y1="199.9961" y2="708.6133"/><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="178.5" y1="199.9961" y2="199.9961"/><polygon fill="#181818" points="188.5,195.9961,178.5,199.9961,188.5,203.9961,184.5,199.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="105.5" x2="39" y1="199.9961" y2="199.9961"/><polygon fill="#181818" points="35,457.8047,39,467.8047,43,457.8047,39,461.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="39" x2="39" y1="199.9961" y2="720.6133"/><line style="stroke:#181818;stroke-width:1.0;" x1="39" x2="142" y1="720.6133" y2="720.6133"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="720.6133" y2="799.0156"/><polygon fill="#181818" points="138,789.0156,142,799.0156,146,789.0156,142,793.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="221.5625" y2="256.5625"/><polygon fill="#181818" points="550,246.5625,554,256.5625,558,246.5625,554,250.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="290.5313" y2="325.5313"/><polygon fill="#181818" points="550,315.5313,554,325.5313,558,315.5313,554,319.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="359.5" y2="394.5"/><polygon fill="#181818" points="550,384.5,554,394.5,558,384.5,554,388.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="512" x2="395" y1="475.4688" y2="475.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="395" x2="395" y1="475.4688" y2="523.0781"/><polygon fill="#181818" points="391,513.0781,395,523.0781,399,513.0781,395,517.0781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="395" y="503.0815">ACK</text><line style="stroke:#181818;stroke-width:1.0;" x1="596" x2="711.5" y1="475.4688" y2="475.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="711.5" x2="711.5" y1="475.4688" y2="523.0781"/><polygon fill="#181818" points="707.5,513.0781,711.5,523.0781,715.5,513.0781,711.5,517.0781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="711.5" y="503.0815">NACK</text><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="487.4688" y2="499.3385"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="552.5" y1="499.3385" y2="499.3385"/><line style="stroke:#181818;stroke-width:1.0;" x1="552.5" x2="552.5" y1="499.3385" y2="523.0781"/><polygon fill="#181818" points="548.5,513.0781,552.5,523.0781,556.5,513.0781,552.5,517.0781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="552.5" y="504.0815">error</text><line style="stroke:#181818;stroke-width:1.0;" x1="395" x2="395" y1="557.0469" y2="664.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="395" x2="542" y1="664.0469" y2="664.0469"/><polygon fill="#181818" points="532,660.0469,542,664.0469,532,668.0469,536,664.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711.5" x2="711.5" y1="557.0469" y2="664.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="711.5" x2="566" y1="664.0469" y2="664.0469"/><polygon fill="#181818" points="576,660.0469,566,664.0469,576,668.0469,572,664.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="552.5" x2="552.5" y1="557.0469" y2="599.2422"/><line style="stroke:#181818;stroke-width:1.0;" x1="552.5" x2="554" y1="599.2422" y2="599.2422"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="599.2422" y2="652.0469"/><polygon fill="#181818" points="550,642.0469,554,652.0469,558,642.0469,554,646.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="428.4688" y2="463.4688"/><polygon fill="#181818" points="550,453.4688,554,463.4688,558,453.4688,554,457.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="676.0469" y2="711.0469"/><polygon fill="#181818" points="550,701.0469,554,711.0469,558,701.0469,554,705.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="163.5938" y2="187.5938"/><polygon fill="#181818" points="550,177.5938,554,187.5938,558,177.5938,554,181.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="745.0156" y2="755.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="807" y1="755.0156" y2="755.0156"/><polygon fill="#181818" points="803,471.8047,807,461.8047,811,471.8047,807,467.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="807" x2="807" y1="151.5938" y2="755.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="807" x2="590.5" y1="151.5938" y2="151.5938"/><polygon fill="#181818" points="600.5,147.5938,590.5,151.5938,600.5,155.5938,596.5,151.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="517.5" x2="301" y1="151.5938" y2="151.5938"/><polygon fill="#181818" points="297,457.8047,301,467.8047,305,457.8047,301,461.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="301" x2="301" y1="151.5938" y2="767.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="301" x2="554" y1="767.0156" y2="767.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="767.0156" y2="799.0156"/><polygon fill="#181818" points="550,789.0156,554,799.0156,558,789.0156,554,793.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="952.5" x2="952.5" y1="432.418" y2="456.8203"/><polygon fill="#181818" points="948.5,446.8203,952.5,456.8203,956.5,446.8203,952.5,450.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1044" x2="1056" y1="420.418" y2="420.418"/><polygon fill="#181818" points="1052,463.8047,1056,473.8047,1060,463.8047,1056,467.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1056" x2="1056" y1="420.418" y2="527.1914"/><line style="stroke:#181818;stroke-width:1.0;" x1="1056" x2="964.5" y1="527.1914" y2="527.1914"/><polygon fill="#181818" points="974.5,523.1914,964.5,527.1914,974.5,531.1914,970.5,527.1914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="952.5" x2="952.5" y1="490.7891" y2="515.1914"/><polygon fill="#181818" points="948.5,505.1914,952.5,515.1914,956.5,505.1914,952.5,509.1914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="952.5" x2="952.5" y1="384.418" y2="408.418"/><polygon fill="#181818" points="948.5,398.418,952.5,408.418,956.5,398.418,952.5,402.418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="952.5" x2="952.5" y1="539.1914" y2="551.1914"/><line style="stroke:#181818;stroke-width:1.0;" x1="952.5" x2="1068" y1="551.1914" y2="551.1914"/><polygon fill="#181818" points="1064,471.8047,1068,461.8047,1072,471.8047,1068,467.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1068" y1="372.418" y2="551.1914"/><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="989" y1="372.418" y2="372.418"/><polygon fill="#181818" points="999,368.418,989,372.418,999,376.418,995,372.418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="916" x2="849" y1="372.418" y2="372.418"/><polygon fill="#181818" points="845,457.8047,849,467.8047,853,457.8047,849,461.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="849" x2="849" y1="372.418" y2="563.1914"/><line style="stroke:#181818;stroke-width:1.0;" x1="849" x2="952.5" y1="563.1914" y2="563.1914"/><line style="stroke:#181818;stroke-width:1.0;" x1="952.5" x2="952.5" y1="563.1914" y2="799.0156"/><polygon fill="#181818" points="948.5,789.0156,952.5,799.0156,956.5,789.0156,952.5,793.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142" x2="142" y1="93.2969" y2="187.9961"/><polygon fill="#181818" points="138,177.9961,142,187.9961,146,177.9961,142,181.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="554" y1="93.2969" y2="139.5938"/><polygon fill="#181818" points="550,129.5938,554,139.5938,558,129.5938,554,133.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="952.5" x2="952.5" y1="93.2969" y2="360.418"/><polygon fill="#181818" points="948.5,350.418,952.5,360.418,956.5,350.418,952.5,354.418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="545" x2="545" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="541,77.2969,545,87.2969,549,77.2969,545,81.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="545" x2="545" y1="805.0156" y2="825.0156"/><polygon fill="#181818" points="541,815.0156,545,825.0156,549,815.0156,545,819.0156" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[266cb1bb62202a295634d0995bd61189]
@startuml provider-flow

title "Provider Flow Diagram"

start

fork
    group File Collector    
    while (can run?)
        :load configuration;
        :enumerate sources;
        :collect files;
        if (there's files to send?) then (yes)
            :schedule files by sources;
            :enqueue files;
            :update statistics;                
        endif
    endwhile
    end group

fork again
    group File Sender
    while (can run?)        
        :get file from queue;
        :detect API that will receive file;
        :send file to API;
        :wait ACK;
        switch (response?)
            case (ACK)
                :move file to sent folder;
            case (error)
                :reenqueue file;
            case (NACK)
                :move file to error folder;
        endswitch
        :update statistics;
       
    endwhile
    end group

fork again
    group Metric Publisher
        while (can run?)
            if (it's time to publish metrics?) then (yes)
                :publish metrics;
            endif
        endwhile
    end group

end fork

end
@enduml

PlantUML version 1.2022.5(Sat Apr 30 07:55:52 BRT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: BR
--></g></svg>