<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="418px" preserveAspectRatio="none" style="width:455px;height:418px;background:#282828;" version="1.1" viewBox="0 0 455 418" width="455px" zoomAndPan="magnify"><defs/><g><ellipse cx="227.5" cy="15" fill="#282828" rx="10" ry="10" style="stroke:#FFB000;stroke-width:1.0;"/><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="113" x="171" y="45"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="93" x="181" y="66.1387">send file to API</text><rect fill="#282828" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="72" x="191.5" y="98.9688"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="52" x="201.5" y="120.1074">wait ACK</text><polygon fill="#282828" points="193.5,152.9375,261.5,152.9375,273.5,164.9375,261.5,176.9375,193.5,176.9375,181.5,164.9375,193.5,152.9375" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="68" x="193.5" y="168.7456">http status?</text><rect fill="#282828" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="111" x="6" y="212.5469"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="66" x="16" y="233.6855">deactivate</text><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="91" x="16" y="247.6543">circuit breaker</text><rect fill="#282828" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="92" x="15.5" y="280.4844"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="72" x="25.5" y="301.623">move file to</text><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="68" x="25.5" y="315.5918">sent folder</text><rect fill="#282828" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="92" x="127" y="212.5469"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="72" x="137" y="233.6855">move file to</text><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="71" x="137" y="247.6543">error folder</text><rect fill="#282828" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="111" x="239" y="212.5469"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="50" x="249" y="233.6855">activate</text><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="91" x="249" y="247.6543">circuit breaker</text><rect fill="#282828" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="89" x="250" y="280.4844"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="69" x="260" y="301.623">reenqueue</text><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="18" x="260" y="315.5918">file</text><rect fill="#282828" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FFB000;stroke-width:1.0;" width="89" x="360" y="212.5469"/><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="69" x="370" y="233.6855">reenqueue</text><text fill="#FFB000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="18" x="370" y="247.6543">file</text><polygon fill="#282828" points="227.5,348.4219,227.5,348.4219,239.5,360.4219,227.5,372.4219,227.5,372.4219,215.5,360.4219,227.5,348.4219" style="stroke:#FFB000;stroke-width:1.0;"/><ellipse cx="227.5" cy="402.4219" fill="#282828" rx="10" ry="10" style="stroke:#FFB000;stroke-width:1.5;"/><line style="stroke:#FFB000;stroke-width:2.5;" x1="221.3128" x2="233.6872" y1="396.2347" y2="408.6091"/><line style="stroke:#FFB000;stroke-width:2.5;" x1="233.6872" x2="221.3128" y1="396.2347" y2="408.6091"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="227.5" x2="227.5" y1="25" y2="45"/><polygon fill="#FFB000" points="223.5,35,227.5,45,231.5,35,227.5,39" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="227.5" x2="227.5" y1="78.9688" y2="98.9688"/><polygon fill="#FFB000" points="223.5,88.9688,227.5,98.9688,231.5,88.9688,227.5,92.9688" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="61.5" x2="61.5" y1="260.4844" y2="280.4844"/><polygon fill="#FFB000" points="57.5,270.4844,61.5,280.4844,65.5,270.4844,61.5,274.4844" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="294.5" x2="294.5" y1="260.4844" y2="280.4844"/><polygon fill="#FFB000" points="290.5,270.4844,294.5,280.4844,298.5,270.4844,294.5,274.4844" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="181.5" x2="61.5" y1="164.9375" y2="164.9375"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="61.5" x2="61.5" y1="164.9375" y2="212.5469"/><polygon fill="#FFB000" points="57.5,202.5469,61.5,212.5469,65.5,202.5469,61.5,206.5469" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="20" x="61.5" y="192.5503">20x</text><line style="stroke:#FFB000;stroke-width:1.0;" x1="273.5" x2="404.5" y1="164.9375" y2="164.9375"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="404.5" x2="404.5" y1="164.9375" y2="212.5469"/><polygon fill="#FFB000" points="400.5,202.5469,404.5,212.5469,408.5,202.5469,404.5,206.5469" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="30" x="404.5" y="192.5503">other</text><line style="stroke:#FFB000;stroke-width:1.0;" x1="227.5" x2="227.5" y1="176.9375" y2="188.8073"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="227.5" x2="173" y1="188.8073" y2="188.8073"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="173" x2="173" y1="188.8073" y2="212.5469"/><polygon fill="#FFB000" points="169,202.5469,173,212.5469,177,202.5469,173,206.5469" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="20" x="173" y="193.5503">40x</text><line style="stroke:#FFB000;stroke-width:1.0;" x1="294.5" x2="294.5" y1="164.9375" y2="212.5469"/><polygon fill="#FFB000" points="290.5,202.5469,294.5,212.5469,298.5,202.5469,294.5,206.5469" style="stroke:#FFB000;stroke-width:1.0;"/><text fill="#FFB000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="20" x="294.5" y="187.5503">50x</text><line style="stroke:#FFB000;stroke-width:1.0;" x1="61.5" x2="61.5" y1="328.4219" y2="360.4219"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="61.5" x2="215.5" y1="360.4219" y2="360.4219"/><polygon fill="#FFB000" points="205.5,356.4219,215.5,360.4219,205.5,364.4219,209.5,360.4219" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="404.5" x2="404.5" y1="260.4844" y2="360.4219"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="404.5" x2="239.5" y1="360.4219" y2="360.4219"/><polygon fill="#FFB000" points="249.5,356.4219,239.5,360.4219,249.5,364.4219,245.5,360.4219" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="173" x2="173" y1="260.4844" y2="333.4219"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="173" x2="227.5" y1="333.4219" y2="333.4219"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="227.5" x2="227.5" y1="333.4219" y2="348.4219"/><polygon fill="#FFB000" points="223.5,338.4219,227.5,348.4219,231.5,338.4219,227.5,342.4219" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="294.5" x2="294.5" y1="328.4219" y2="360.4219"/><polygon fill="#FFB000" points="290.5,350.4219,294.5,360.4219,298.5,350.4219,294.5,354.4219" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="227.5" x2="227.5" y1="132.9375" y2="152.9375"/><polygon fill="#FFB000" points="223.5,142.9375,227.5,152.9375,231.5,142.9375,227.5,146.9375" style="stroke:#FFB000;stroke-width:1.0;"/><line style="stroke:#FFB000;stroke-width:1.0;" x1="227.5" x2="227.5" y1="372.4219" y2="392.4219"/><polygon fill="#FFB000" points="223.5,382.4219,227.5,392.4219,231.5,382.4219,227.5,386.4219" style="stroke:#FFB000;stroke-width:1.0;"/><!--MD5=[b6297772e6555cdd00e6cfd406c1afad]
@startuml src-sender-file-receive-process

!theme crt-amber

start

:send file to API;
:wait ACK;
switch (http status?)
case (20x)
:deactivate\ncircuit breaker;
:move file to\nsent folder;
case (40x)
:move file to\nerror folder;
case (50x)
:activate\ncircuit breaker;
:reenqueue\nfile;
case (other)
:reenqueue\nfile;


endswitch





end
@enduml

@startuml src-sender-file-receive-process







<style>
  root {
    BackgroundColor #282828
    FontColor #FFB000
    FontName Verdana
    HyperLinkColor #FFCC00
    LineColor #FFB000
    LineThickness 1
    Margin 5
  }
  box {
    LineStyle 12-18
    LineThickness 3
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  groupHeader {
    BackgroundColor #FFB000
    FontColor #282828
    FontStyle bold
  }
  header {
    LineThickness 0
  }
  node {
    MaximumWidth 300
  }
  referenceHeader {
    BackgroundColor #FFB000
    FontColor #282828
    FontStyle bold
  }
  separator {
    BackgroundColor #FFB000
    FontColor #282828
    FontStyle bold
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>

skinparam ArrowLollipopColor #FFB000
skinparam BackgroundColor #282828
skinparam DefaultFontName Verdana
skinparam DefaultMonospacedFontName Courier
skinparam LifelineStrategy solid
skinparam ParticipantPadding 10
skinparam SequenceLifeLineBorderColor #FFB000
skinparam Shadowing false
skinparam UseBetaStyle true

skinparam Activity {
  BackgroundColor #282828
  BarColor #FFB000
  BorderColor #FFB000
  FontColor #FFB000
  FontName Verdana
}
skinparam Boundary {
  FontColor #FFB000
}
skinparam Box {
  Padding 5
}
skinparam CircledCharacter {
  FontColor #282828
  FontName Courier
  Radius 9
}
skinparam Class {
  BackgroundColor #282828
  BorderColor #FFB000
  FontColor #FFB000
  FontName Verdana
}
skinparam ClassAttribute {
  FontColor #FFB000
  FontName Verdana
}
skinparam ClassStereotype {
  FontColor #FFB000
  FontName Verdana
}
skinparam Footer {
  FontColor #FFB000
  FontName Verdana
}
skinparam Header {
  FontColor #FFB000
  FontName Verdana
}
skinparam Hyperlink {
  Color #FFCC00
}
skinparam IconPackage {
  Color #FFB000
  BackgroundColor #282828
}
skinparam IconPrivate {
  Color #FFB000
  BackgroundColor #282828
}
skinparam IconProtected {
  Color #FFB000
  BackgroundColor #282828
}
skinparam IconPublic {
  Color #FFB000
  BackgroundColor #282828
}
skinparam Note {
  FontColor #FFB000
  FontName Verdana
}
skinparam Object {
  BorderColor #FFB000
}
skinparam Package {
  BorderColor #FFB000
  FontColor #FFB000
  FontName Verdana
}
skinparam State {
  BackgroundColor #282828
  BorderColor #FFB000
}
skinparam StereotypeA {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeC {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeE {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeI {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam StereotypeN {
  BackgroundColor #FFB000
  BorderColor #FFB000
}
skinparam UseCaseStereoType {
  FontColor #FFB000
  FontName Verdana
}

start

:send file to API;
:wait ACK;
switch (http status?)
case (20x)
:deactivate\ncircuit breaker;
:move file to\nsent folder;
case (40x)
:move file to\nerror folder;
case (50x)
:activate\ncircuit breaker;
:reenqueue\nfile;
case (other)
:reenqueue\nfile;


endswitch





end
@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>